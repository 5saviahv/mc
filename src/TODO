Before 4.6.1
============

Allow navigating VFS directories by Enter with non-empty command line.

Allow entering archives in VFS by Ctrl-PgDown with non-empty command
line.

Alt-O doesn't save new directory in the history.

Remove duplicate history entries.

Allow calling directory hotlist from Copy, Move and Find File dialogs.

Allow modifiers for keys in mc.lib, like "shift-up".

Backup config files when writing them.

Totals are not calculated when operating on a single directory.

Add support for mouse wheel with gpm.

Recheck all mouse handlers, make sure that they check button number.

Smooth mouse scrolling on panels.

Load subshell prompt when and only when it's ready.  Alternative
solution - interpret PS1.

real_input_dialog_help() shouldn't use translated strings in the section
names in .mc/history.

Make xnc.hlp a text file.  Make it easier to translate the manual.

Hard links in cpio have 0 length (if easy to fix).

Add "Ignore" and "Ignore all" buttons when reporting permission
problems.

Better date parser - don't allow seconds and year in ftp listings on the
same line.

Report errors in fish operations and recover from them.

Allow colors to be defined in the mc.lib file.  Make it possible to
avoid using a superlong line to redefine all colors.

Allow verbatim search in "Find File".

Filters in the editor should operate on the open file.  They don't work
on VFS now.  Don't close and reopen the file.

ftp and fish with home != '/' - readjust directory to the home.

Add a case match option in the viewer.

Make find dialog more responsive.



After 4.6.1 on 4.6.x branch
===========================

Consistent support for mc.lib.

Consistent support for terminal-specific settings.

New syntax for mc.ext - path check, desktop environment check.  Detach X
programs into a separate process group.  Allow forcing the full path on
local files.

Click on a png image doesn't always work on remote vfs - local copy may
be deleted before the application has time to load it.

Allow running executables from remote VFS.  Possibly warn the user.

canonicalize_pathname() doesn't strip leading "./"

Add print dialog in the internal editor.

Implement logging, not just for VFS.

"Find file" should remember full stating path, not "." in the history.

chdir to '~' doesn't work.


In the 4.7 branch
=================

Eliminate all pipes in subshell.c, run pwd after kill.  Add support for
more shells (e.g. ksh).

Internal terminal - no more console saving.

Implement a really Advanced Chown/Chmod.

Dynamic loading for libX11, libgpm.

Support for multi-byte charsets (e.g. UTF-8).

sftp and fxp support in VFS.

New listing mode keyword "time": mtime or the time (atime, ctime) used
to sort files.


========================================================================
Everything below this point is the old TODO list.  It doesn't reflect
the current priorities of the developers, but may contain interesting
ideas still waiting for their implementation.
========================================================================


* Bugs

  - "Files" message flickers a lot when copying files.

  - Make the extfs handle re-reads.

  - Document (or remove) C-x C-r, C-x C-s.

  - Check that all the help contexts exist on the help file.

  - Make the buttonbar for the tree box work.

  - In the incremental search mode, when backspacing, select the
    correct file, do not stop in current file.

  - Make C-y yank back all the killed text at once if you've just done
    several kill operations in a row (C-k, M-d, etc).

  - In learn keys, warn the user if he is trying to
    i) define a same sequence as an already defined (if the keycode differs)
    ii) define a sequence, which is a prefix of other longer and already
        defined sequence

* Configuration 

* Documentation

  - Convert the source mc.1 to mc.sgml and create automagically from it
    mc.1, mc.html, mc.hlp, mc.info, mc.tex, mc.txt etc.

* Extensions

   - Hotlist should allow people to edit the entry (like we do in the external
     panelize thing).

   - Change ext.c to allow the %{..} to recursively expand any other %thingies.

   - Write a general grow_string routine.  This code is used in the internal
     viewer and would also be used in the profile.c code.

   -  A command to set the line length to a fixed value for viewing
      fixed length binary files. LIST does this with Ctrl-B and then
      prompts for a "record" length.

   - Viewer: Mark all found matches, and when 'n' is pressed go to the
     next page, not the next match on the same screen (when there is
     more than one).

  - In ftpfs_open, extfs_open, if we set local_filename to tmpnam, use
    a mechanism to set local_filename to another place on the local
    diskspace (this would be useful for copying, so that we would save
    some tmp space). This would require special care in file.c afterwards.

  - In Listing mode... give at least three user-definable formats
    (using Janne's Listing mode editor) and assign hot-keys to both
    standard and user defined (what about c-x f [fbl123] ?).

  - Shift-Home, Shift-End for the input line: home and end.

  - Make a mechanism to lock all the mouse events and send them to
    the locking widget until unlocking is done.

  - Sort with numerical extensions.

  - Allow the program to execute a command even when we are on a vfs, maybe
    a special box, or make subshell code ignore the change directory
    request. Perhaps each vfs should store a local path attached to it,
    like in tarfs, extfs it would be the directory which contains the
    topmost tararchive, in ftpfs it would be the directory which we entered
    to ftp from.

  - auto_hint_lines: a variable that would choose to use hint mode when
    at least auto_hint_lines are visible.

  - Listbox: Mouse handler for the scrollbar: this will be hard with
    the current approach (since the listbox scrollbar is drawn *outside*
    the listbox control area).

  - In file.c, we shouldn't need to get a full path name in order to
    work, we should instead canon the file name inside the tar.c (the
    only fs that relies on this), tar.c should know about the cwd (i
    think).

  - Panelize the selected files.

  - Recursive delete should (perhaps as an option) delete files just after
    they have been copied and not to delay deleting until everything was
    moved.

  - When copying a tree (or moving or deleting), as an option act primarily
    on the regular files and at the end on directories recursively, so that
    we get complete high parts of the tree if something fails (useful for
    ftpfs).

  - Put into a new and bigger Options/Configuration dialog all the options
    we have now to set using .mc/ini manually.

  - When after deleting there are no files in a panelized panel, restore
    it automagically to the real directory content.

  - Files/Symlink and Link should be able to do multiple links (if the
    target is a directory).

  - Directory sizes should work in background using try_channels.

  - Support of non-UNIX ls in ftpfs. Perhaps using an ascii configuration
    file similar to moxftp.

  - Have an option to let the user choose the preferred keybindings.
    Currently, only the emacs keybindings are supported, add support
    for Norton Commander and vi keybindings.

  - Find command should have a way to specify directories to skip.

  - Add an option that will let listboxes do incremental searches.

* Optimizations and cleanup

  - Optimize the mcfs read and write code: make the code output 8k
    blocks all the time (if we have called mc_hint_readall) and probe
    the input for a possible cancel.

  - When verbose is off, remove all the clutter on the screen about
    the files being copied.

  - The viewer is calling view_update in many places, I call
    view_update after handling a key, should all the other
    view_updates be removed?

  - If the viewer is too slow, some caching could be done.
    width and cols are currently computed each time they are needed.

 ++ In the user menu, don't use the entries array, we can now grow
    dynamically.  I should take a look at this one day, it's easy to
    fix.

