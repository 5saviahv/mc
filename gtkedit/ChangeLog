2001-06-01  Pavel Roskin  <proski@gnu.org>

	* gtkedit.h: Warning fix - use stricter declarations for
	destroy_me and destroy_me_user_data.

2001-05-31  Pavel Roskin  <proski@gnu.org>

	* Makefile.in: Define HAVE_X and HAVE_GNOME, not just GTK -
	header files are using them.

	* editdraw.c (edit_render) [GTK]: Revert previous patch, it
	broke compilation.

2001-05-31  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* editdraw.c (edit_status): Use strcpy (s, ) instead of 
	sprintf (s, "%s", ).

	(set_color) [MIDNIGHT]: Became a macro.
	(render_edit_text) [defined(MIDNIGHT) || defined(GTK)]: Warning fix.
	(edit_render) [GTK]: Eliminate win variable.
	(key_pending) [!GTK]: Warning fix.

2001-05-30  Pavel Roskin  <proski@gnu.org>

	* editdraw.c (status_string): Use is_printable(). Declare
	static. Eliminate intermediate buffer. Use memset() for filling.
	Print byte as unsigned. Use C notation for hex numbers.

	* editdraw.c (status_string): Don't print non-printable chars.
	Better formatting. Print "<EOF>" at the end of file instead of
	-1. Use snprintf instead of sprintf.

2001-05-30  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* syntax.c (open_include_file) [MIDNIGHT]: Don't hardcode location 
	of syntax file(s) with LIBDIR, use mc_home instead.
	From Ludovic Drolez <ludovic.drolez@freealter.com>.

	(syntax_text): Use perl.syntax to highlight perl modules (.pm).

2001-05-18  Pavel Roskin  <proski@gnu.org>

	* editcmd.c (edit_replace_prompt): Warning fix.

2001-02-26  Pavel Roskin  <proski@gnu.org>

	* editcmd.c (edit_delete_macro_cmd) [MIDNIGHT]: Don't use
	CK_Macro on the argument to edit_delete_macro().

	* edit.c (edit_init_file): Remove, it's useless. All the
	necessary files should be created when needed.
	* edit.h: Remove declaration of edit_init_file().

2000-11-01  Andrew V. Samoilov <sav@bcs.zp.ua>

	* editcmd.c (canonicalize_pathname) [GTK]: memory leaking fixed

2000-10-30  Pavel Roskin  <proski@gnu.org>

	* editcmd.c (canonicalize_pathname) [GTK]: Make the argument
	constant.
	(edit_split_filename) [GTK]: Make the second argument constant
	to match the declaration.

2000-10-30  Andrew V. Samoilov <sav@bcs.zp.ua>

	* editcmd.c (edit_save_file): better error handling on writting

	(edit_sort_cmd): saved sort options proposed in dialog

	edit.h, editcmd.c: declaration for edit_save_block () added

	(edit_split_filename): f constified

	* edit.c (edit_init) [ENABLE_NLS]: option_whole_chars_search 
	expanded by national letters using current locale on first call

	(edit_file_is_open) [MIDNIGHT]: all occurences and related code
	are commented

	(edit_execute_cmd): typo in error message fixed

2000-09-30  Pavel Roskin  <proski@gnu.org>

	* libgettext.h: Removed, shouldn't be here.
	* Makefile.in: Adjusted to remove libgettext.h

2000-09-15  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* editcmd.c (edit_delete_macro, edit_(load|save)_macro_cmd): don't
	translate keywords written to macro file or macro don't work, at least
	for Cyrillic. Made this as separate commit, so, if it seriously breaks 
	compatibility it's easy to revert it.

2000-09-15  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* editcmd.c (edit_save_file): fopen()+fwrite()+fclose() replaced
	by open()+write()+close() to restore possibility to edit files
	over Midnight Commander's VFSes
	
	(edit_replace_cmd) [MIDNIGHT]: some more right algorithm to calculate
	menu coordinates used. I don't like if menu hides replaced text.

	(edit_goto_cmd): Memory leaking fixed when f is empty string

2000-09-07  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* edit.c (check_file_access) [MIDNIGHT,GTK]: error message localized;
	some cosmetics changes to avoid annoying warnings

	* editcmd.c (edit_save_file): pclose returns 0 on success, 
	file fclose()d when fwrite fails
	
	(pipe_mail): malloc () + sprintf () replaced by g_strdup_printf ()
	
	* syntax.c (syntax_text): Makefile replaced by [Mm]akefile to cover
	makefile and GNUmakefile
	(upgrade_syntax_file): infinitive loop fixed when rule file
	is outdated but it cannot be unlinked/overwritten

2000-08-30  Pavel Roskin  <proski@gnu.org>

	* editwidget.c [!MIDNIGHT]: include xdnd.h
	* Makefile.in: distribute xdnd.h

2000-08-18  Pavel Roskin  <proski@gnu.org>

	* Makefile.in: adjusted list of distributed files.
	Added rule for rebuilding Makefile

2000-08-08  Pavel Roskin <proski@gnu.org>

	* gtkedit.c [GTK]: don't include mousemark.h
	* gtkedit.h [GTK]: likewise

2000-08-03  Pavel Roskin <proski@gnu.org>

	* mousemark.c, mousemark.h: removed
	* Makefile.in: don't distribute mousemark.h
	* gtkedit.c [MIDNIGHT]: don't include mousemark.h
	* gtkedit.h [MIDNIGHT]: likewise

2000-07-20  Andrew V. Samoilov  <sav@bcs.zp.ua>

	* gtkedit/editcmd.c (edit_save_file): check fclose()s return value
	to prevent loss of data
	(edit_block_process_cmd): don't translate empty string

	* gtkedit/edit.h (edit_get_write_filter, edit_write_stream,
	edit_init_file): added declarations 

	* edit.c (edit_filters): constified
	(edit_get_write_filter): filename constified
	(user_menu): don't translate empty string

	* syntax.c (syntax_text): constified
	(upgrade_syntax_file): syntax_line constified, f closed after use
